#MFC socket编程
```c
struct sockaddr_in{
	short			   sin_family;		//协议地址,AF_INET
	unsigned short 	   sin_port;		//端口
	struct   in_addr   sin_addr;	//IP地址
	char			   sin_zero[8];		//留作备用，需要指定为0
};
```

```c
struct in_addr{
	union{
		struct{
			unsigned char s_b1,s_b2,s_b3,s_b4;		//用4个char字符描述IP地址
		}S_un_b;
		struct{
			unsigned short s_w1,s_w2;				//用2个short类型描述IP地址
		}S_un_w;
		unsigned long S_addr;						//用1个u_long类型描述IP地址
	}S_un;
};
```
通常用户在网络编程中使用1个u_long类型的字符进行描述IP地址即可,例如，使用 IP地址结构in_addr进行描述ip地址`192.168.0.35`,代码如下。
```c
sockaddr_in addr;
addr.sin_addr.S_un.S_addr=inet_addr("192.168.0.35");
```
首先定义sockaddr_in结构对象addr,然后为ip地址结构in_addr结构成员S_addr赋值，因为结构成员S_addr所描述的IP地址均为网络字节顺序，所以程序调用`inet_addr()`函数将字符串IP地址转换为以网络字节顺序排列的IP地址。
#####字节顺序转换函数
Winsock中提供了几个关于网络字节顺序与主机字节顺序之间的转换函数。
```c
//将一个u_short类型的IP地址从主机字节顺序转换到网络字节顺序
u_short htons(u_short hostshort);

//将一个u_long类型的IP地址从主机字节顺序转换到网络字节顺序
u_long htonl(u_long hostlong);

//将一个u_long类型的IP地址从网络字节顺序转换到主机字节顺序
u_long ntohl(u_long netlong);

//将一个u_short类型的IP地址从网络字节顺序转换到主机字节顺序
u_short ntohs(u_short netshort);

//将一个字符串IP转换到以网络字节顺序排列的IP地址
unsigned long inet_addr(const char FAR * cp);

//将一个以网络字节顺序排列的IP地址转换到一个字符串IP
char FAR * inet_ntoa(struct in_addr in);
```

```c
sockaddr_in addr;		//定义套接字地址结构变量
in_addr in_addr;		//定义IP地址结构变量
addr.sin_family=AF_INET;	//指定地址族为TCP/IP
addr.sin_port=htons(11119);		//指定端口号
addr.sin_addr.S_un.S_addr=inet_addr("192.168.0.35");		//将字符串IP转换为网络字节顺序
char addres[]=inet_ntoa(addr.sin_addr.S_un.S_addr);   		//将网络字节顺序排列的IP转换为字符串IP


